title:  如何禁止chrome自动跳转https
date: 2016-04-02 09:37:00
tags:
- chrome
- https
- 自动跳转
categories: talk
---

首先我声明，我非常支持https。

之所以要写这篇文章，主要是因为我碰到了一个很尴尬的事儿！待我慢慢道来~

之前给网上看到一篇文章，是教你如何简单的借助一个服务（我忘记名字了）为你的github pages项目来开通https支持，我的博客是hexo的，所以当然也是放在github pages上的！

那个服务确实很给力，在我根据指南，配置好后（域名解析）几乎是一键开启https！美翻了！但是我发现可能小众问题吧，我的博客没过多久访问时就提示域名解析异常，再次到那个服务后台去配置，就发现提示域名所属权校验失败！

本以为重新配置一下就可以了，结果又碰到了二级域名导致它提供的配置无法通过校验（首次没问题我也很纳闷！）~好了，说道这里，基本上这件事儿的背景也就差不多解释清楚了！

既然如此，我自然会放弃使用那个服务，所以我把域名解析重新直接解析到github pages上！但是，问题来了，之前所有使用过https访问我域名的chrome再也无法使用http来访问我的网站了！

一直提示网站出现安全异常，阿西吧！

后来网上搜了一下，找到了解决方案，其实很简单，请在chrome的地址栏输入：

	chrome://net-internals/#hsts
	
在打开的页面中，`Delete domain`栏的输入框中输入：blog.kazaff.me（注意这里是二级域名），然后点击“delete”按钮，即可完成配置。

然后你可以在`Query domain`栏中搜索刚才输入的域名，点击“query”按钮后如果提示“Not found”，那么你现在就可以使用http来访问我的网站了！

虽然，你可能从来没有访问过我的网站~~哇哈哈哈哈

PS：
我看有同学留言说这个特性是chrome自作聪明，老实讲一开始我也是如此认为，何必非要记录一下domain和ip的关系呢？仅仅是缓存提速么？
最近和同事讨论一个问题，关于中间人网络代理攻击的。面对这点，chrome hsts可以说是非常给力的一道保障，绝对不算是自作聪明！！！
