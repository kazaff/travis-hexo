title:  window下mysql5.7无法启动
date: 2016-03-20 09:37:00
tags:
- mysql
- window
- 密码
categories: 运维
---

放了个周末，第一天上班就发现mysql无法启动了，阿西吧~
一大早就先整了一个小时，真是不划算啊~
<!--more-->
之前都是使用集成开发环境，很少自己手动安装mysql，不过由于这次必须使用mysql5.7，而集成环境自带的mysql版本不够（或者直接提供的是MariaDB）,所以只能自己安装了~

直接下载mysql5.7的window安装器，很简单就装好了，所以也没有特别在意，简单修改了一下my.ini就用了一个多礼拜~
上周六关机的时候电源断早了，所以今天开机发现window开机提示非法关机了，导致我的工作区都丢了，郁闷！（平时我都是休眠系统的！）

启动到桌面后，发现mysql无法启动了！好灵异，更奇怪的是，我看了一下my.ini都自动给我恢复成my.default.ini了！草！
mysql安装的时候我也没有把它加到服务中，这下好了，我tm无法启动它了！

网上查了一下，win下，可以执行下面的命令（后面所有命令都建议在管理员权限下做）：

	mysqld  --initialize

前提是，你得先有一个my.ini，并配置好basedir，basedir指向的文件夹也要有对应文件夹啊~

这一步做完，mysql会初始化创建它要使用的data数据！（这不是废话么！）

然后将mysql加入到win的系统服务中：

	mysqld --install MySQL

或者先卸载服务:

	mysqld --remove

完事儿了你基本上就已经可以启动你的mysql服务了！
然后你还不能高兴过头！因为，密码也丢了！！！

网上很多资料讲的找回密码方案在mysql5.7下似乎都不管用了！
我只能，在我的my.ini文件中加入下面这个参数：

	skip-grant-tables

除此之外，难倒我只能选择重新安装mysql了么？要知道卸载mysql也不是一件容易事儿啊~
难倒我只能重装操作系统了吗？

谁有高招，求赐教！
