title: nginx的vhost文件加载顺序
date: 2018-10-17 09:37:12
tags:
- nginx
- 虚拟主机
categories: 运维
---

这几天频繁的创建主机搭建站点，突然碰到个与自己直觉不匹配的情况：

**当没有配置默认的虚拟主机时，用一个无法匹配server_name的链接访问服务器时，会如何？**

我直觉认为会显示错误信息。但现实世界是残酷的，nginx找了一圈都没有匹配后，会直接路由到它找到的第一个配置的虚拟主机上（前提是监听的端口是一样的）。

何为第一个？是**靠虚拟主机的conf文件名字的字母表顺序**！惊不惊喜？意不意外？？
