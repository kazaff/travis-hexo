title:  前端多入口项目如何实现根据用户权限配置显示菜单
date: 2016-03-30 09:37:00
tags:
- 多入口
- jquery
- 权限
- 菜单
categories: 前端
---

目标是要为一个ERP项目做前端实现，该项目前后端通信完全走REST，不过由于项目时间和人力有限，前端开发人员对目前主流的MVVM框架并不了解，所以之前的单入口思路就无法复用了。

这次前端实现采用的是多入口设计，且不使用html iframe方案。基于jquery的dom操作和ajax来完成大多数开发任务，引入lodash作为工具库来处理复杂数据结构。

再来说一下项目的概况，和大多数后台管理系统一样，这个ERP依然提供为用户配置操作权限的功能，这就要求前端界面需要根据用户的实际操作权限来响应哪些操作链接可以显示在界面上，哪些需要隐藏起来。当然，这只是为了界面显示做的配置，实际后端服务依然会判断用户权限的，不过界面上根据用户权限来控制菜单或按钮的显示情况，也是必不可少的。

除此之外，考虑到这个ERP功能是按照模块划分的，每个模块的功能相对独立，映射到项目结构上，我希望每个模块的相关代码（html，js，css等）都应该存放在各自的模块文件夹下，为将来维护提供良好的基础。

万幸的是，目前项目只针对chrome高版本，意味着我们可以不鸟兼容问题！！！

具体实现细节，推荐看项目的[boot.js代码](https://github.com/kazaff/menuIfShow/blob/master/boot.js)。

