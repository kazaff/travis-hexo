title: php页面白屏
date: 2014-08-08 11:37:12
tags: 
- 白屏
- wdcp
- 磁盘写满
categories: php
---

昨天给家正惬意着，突然朋友打电话说让我帮着看看他们的服务器，貌似出问题了~电话里描述的问题是：

> 访问所有的php页面都是白屏，但是静态页面却能打开
<!-- more -->
老实说，我之前还真没印象碰见过这种问题，第一印象以为是apache配置的php参数有问题，但那也不会白屏啊，应该是下载php文件才对啊~好吧，我确实抓瞎了！

先简单描述一下服务器的配置环境，其实很简单，用的是VPS，操作系统是CentOS，web环境装的是`WDCP`，这应该是一个很常见的产品环境下的lnamp集成套件了，提供了强大的界面管理后台，我很喜欢~~不多说了，再说就成了广告贴了！

通过ssh登录到服务器上，简单的看了看相关的配置，确实没什么思路，相关的log也没发现什么眉目！只能求助于[wdcp](http://www.wdlinux.cn/bbs/search.php?searchid=27&orderby=lastpost&ascdesc=desc&searchsubmit=yes)论坛了，按照前辈们的[解决方案](http://www.wdlinux.cn/bbs/redirect.php?goto=findpost&ptid=4641&pid=22018&fromuid=9712)，开始排查，结果发现果然是由于磁盘满了造成的php页面白屏！

非常的好奇，为什么磁盘满了，php就会白屏呢？这尼玛是不死逗比？

既然知道原因，那么解决就不是问题了，找到造成磁盘写满的主要原因，是因为mysql的数据库文件被指定到了根目录挂载点，而vps的这个挂载点分配的很小，所以只需要把数据库文件指定到最大的挂载点即可。注意修改新路径下的文件夹权限，否则mysql可能无法正常启动哟~



