<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="coder,leader,tinker"><meta name="keywords" content><meta name="author" content="kazaff,edisondik@gmail.com"><meta name="copyright" content="kazaff"><title>要相信，一切都是最好的安排~ | kazaff's blog</title><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '3.9.0'
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.jpg"></div><div class="author-info__name text-center">kazaff</div><div class="author-info__description text-center">coder,leader,tinker</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">198</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">431</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">20</span></a></div></div></div><nav id="nav" style="background-image: url(/img/banner.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">kazaff's blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">kazaff's blog<div id="site-title-white"></div></div><div id="site-sub-title">要相信，一切都是最好的安排~</div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2019/07/23/不安全证书提示下的请求是否依然基于tls/">不安全证书提示下的请求是否依然基于Tls</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 7月 23 2019</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/运维/">运维</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/证书/">证书</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/TLS/">TLS</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/HTTPS/">HTTPS</a></span><div class="content">好久没有更新Blog了，惭愧惭愧~
今天咱们来聊一个之前总是忽略的问题：

我记得是好几年前，当时https风初见势头，很多大一些的互联网平台都https化的时候，我也跟风的研究并搭建过基于https的网站。不过那个时候证书还是需要花钱买的，所以跟着网上的教材我只能在本地搭建测试环境~
不过这几年随着https证书贫民化，几乎所有网站都切换到了https下，什么？你还不知道如何免费https化？强 ...</div><a class="more" href="/2019/07/23/不安全证书提示下的请求是否依然基于tls/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/05/21/从华为事件谈自己造轮子的必要性/">从华为事件谈自己造轮子的必要性</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 5月 21 2019</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/talk/">talk</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/需求分析/">需求分析</a></span><div class="content">贸易战到现在，愈演愈烈，自从川普老头发布华为禁令后，先后很多美国本土企业都中断了和华为的合作关系，尤其是google。安卓系统对于华为的海外手机业务来说无疑是非常重要的，而华为内部发布出来的信息中有一句话让我这种程序员很有感觉：

所有“备胎”一夜之间全部转正！

以前看过很多资料，总会不经意看到关于“重造轮子”的梗，多数都是用来表达“闭门造车”的愚蠢行为。相对比较正面的一句话应该是来自图灵书籍的 ...</div><a class="more" href="/2019/05/21/从华为事件谈自己造轮子的必要性/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/05/10/激活apple id的two-factor认证/">激活Apple ID的two-Factor认证</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 5月 10 2019</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/移动端/">移动端</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/需求分析/">需求分析</a></span><div class="content">事情是这样的，我司的一个ERP有一个ios app，因为当时没有通过Apple的个人开发审核，所以按照Apple的推荐选择使用企业账号类型来开发。企业app的证书有效期是1年，也就是说每年都要去更新证书。
问题来了，当我这几天登录我们的企业开发者账号时，被拦截了，提醒我该账号没有开启双重认证。。。这也太霸道了啊~这个开发者账号是属于公司的，不可能绑定在私人的手机上，怎么设置这个双重认证呢？
GG上 ...</div><a class="more" href="/2019/05/10/激活apple id的two-factor认证/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/04/29/事无巨细vs点到为止/">事无巨细Vs点到为止</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 4月 29 2019</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/talk/">talk</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/需求分析/">需求分析</a></span><div class="content">最近在思考一个问题，在项目需求分析阶段，到底是应该“事无巨细” 还是 “点到为止” 呢？
这个问题源自我最近参与公司其它项目的经历，作为一个“外来者”，按照他们组的规则按部就班的推进需求分析的进度。我发现的第一个与众不同是他们组开会特别频繁，而我们组正式会议几个月都很难一次，当然我们组存在频繁的小会议（问题参与者们自发组织的临时会谈）。
其实，会议频繁不算是问题，但每个会议必须有效率。我参与的这个 ...</div><a class="more" href="/2019/04/29/事无巨细vs点到为止/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/03/20/你想真正掌握你的个人数据吗/">你想真正掌握你的个人数据吗</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 3月 20 2019</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/talk/">talk</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/solid/">solid</a></span><div class="content">时代在召唤，我们所生活在的星球，每隔一段时间都会自我颠覆一次，就像细胞的迭代一样。在前段时间各种新闻大事件（fb的泄露门，欧盟的隐私法案）的炒作下，越来越多的互联网问题暴露出来。不过，这个领域从来不缺少革命者，一些大师总是会在关键时刻站出来发表一个颠覆性的思想，引领世人。
之前，在了解区块链的时候，无意间有看到一个项目IPFS，去中心化的web应用多么有魅力啊。不过今天看到一个更热血沸腾的项目So ...</div><a class="more" href="/2019/03/20/你想真正掌握你的个人数据吗/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/03/19/https证书申请/">Https证书申请</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 3月 19 2019</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/运维/">运维</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/https/">https</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/openssl/">openssl</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/ACME/">ACME</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/certbot/">certbot</a></span><div class="content">时间飞逝，现在https已经是web项目必选项了。早在很久之前，就有过一篇文章提https，里面提供的证书申请方案已经过时。
其实，一直以来都有机构或组织提供openssl证书服务，最接地气的就应该是Let’s Encrypt。去年年初，我们公司搭建环境的时候，就是用的是它提供的ACME.sh，可以看到它还是比较远古的，很多步骤，而且我们公司后来出现过它证书没有自动创建的问题~~
在一个夜黑风高的 ...</div><a class="more" href="/2019/03/19/https证书申请/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/03/18/关于mysql的insert for update在多条插入记录下的使用/">关于Mysql的insert for Update在多条插入记录下的使用</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 3月 18 2019</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/数据库/">数据库</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/mysql/">mysql</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/insert-for-update/">insert for update</a></span><div class="content">今天我们来讨论一个比较大众的问题：关于当在mysql中insert记录时违反了表的唯一键后要怎么办？其实一般而言，越来越多的系统在数据一致性和有效性问题上，都放在应用逻辑层来维护合法性。到底哪种方式好，在这篇文章中不做评论，我个人觉得尽量都在代码中体现才是王道。
回到问题，一般遇到这种情况，第一反应是使用insert for update语法，例如：
12INSERT INTO t1 (a,b,c ...</div><a class="more" href="/2019/03/18/关于mysql的insert for update在多条插入记录下的使用/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/03/07/关于电商项目的需求难点/">关于电商项目的需求难点</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 3月 7 2019</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/需求分析/">需求分析</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/电商/">电商</a></span><div class="content">现在国内的电商产品真的是多如牛毛，功能其实都大同小异，质量参差不齐。有的当软件产品卖，有的依托在完整的SaaS平台中卖服务，百家齐放。
我司本身有运营着一个B2C的电商系统，基于国外一个开源电商项目二次开发而来，修修改改也使用了将近三年了，今年公司打算对其进行重构（基本上是推倒重来），并进一步将其产品化。之所以有这种想法，也是因为我们调研了一圈市面上的产品后，觉得这个市场还是有机会的。
我之前少有 ...</div><a class="more" href="/2019/03/07/关于电商项目的需求难点/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/12/20/yum remove害死人/">Yum Remove害死人</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 12月 20 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/运维/">运维</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/centos/">centos</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/yum/">yum</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/rpm/">rpm</a></span><div class="content">前几天犯了个天大的错，简单的说就是我把公司线上服务器的nginx卸载了。。。然后整整花了将近7个小时才让公司的系统重新上线！我想如果在BAT，我肯定要滚蛋了~~
事情的缘由比较啰嗦就不细说了，主要说一下我是如何干掉nginx的吧，哈哈哈：
1yum remove GeoIP -y
我本来是打算删除这个库的，执行完命令后它竟然把依赖它的其它软件也给删除了。。。。当然，重新安装nginx分分钟的事儿， ...</div><a class="more" href="/2018/12/20/yum remove害死人/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/12/18/你php的session_start慢么/">你Php的session_start慢么</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 12月 18 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/php/">php</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/session/">session</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/文件锁/">文件锁</a></span><div class="content">事情发生在一个晴朗的早上，客户投诉说公司运营的一个web电商系统出现偶发的504问题。“偶发”这种事儿，真心不好排查啊。我们检查了一遍所有的相关配置，包括nginx，php，php-fpm，mysql等等等等，调整了一些参数后情况并没有变好~~不仅如此，还有相当多的其它因素干扰着问题的排查，这其中就包含今天的这个主题。
实在没辙了，只能开启所有的log来追查了。
经过对日志的分析，发现“偶发”的5 ...</div><a class="more" href="/2018/12/18/你php的session_start慢么/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/11/29/迟来的成人礼/">迟来的成人礼</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 11月 29 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/talk/">talk</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/新生命/">新生命</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/成长之重量/">成长之重量</a></span><div class="content">刚刚过去的两周，对我来讲，如时间旅行一样，众多的“人生第一次”像赶集一样接踵而来。庆幸的是我及我的家人犹如神助，正如几个月前我从朋友口中得到的那句启示“一切都是最好的安排”！
此刻花时间来整理自己的思绪，那些镜头还会在眼前复现，上次如此深刻的画面还是在姥姥去世的时候。不同的是这次是多了一个新的生命，一个我和我爱的人的生命的延续。
一直以来我都没有感觉生活马上就要有所变化，直到我在产房外听到声嘶力竭 ...</div><a class="more" href="/2018/11/29/迟来的成人礼/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/10/21/单台服务器同时跑多套php/">单台服务器同时跑多套Php</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 10月 21 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/运维/">运维</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/php-fpm/">php-fpm</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/nginx/">nginx</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/linux/">linux</a></span><div class="content">一套web系统，后台往往比前台功能要复杂丰满许多，但后台的访问权限往往更容易控制，毕竟前台是给宇宙中所有的生物在使用的。为了安全起见，我们公司的一套web电商系统开始尝试做前后台功能隔离，根据整理出来的报告，后台功能需要大量的风险高的php内置函数。前台基本上db的存存取取，没有什么图片管理，报表导出，文件打包等等功能，所以我们需要让它们分别跑在不同的php安全配置下。
服务器是一台AWS EC2 ...</div><a class="more" href="/2018/10/21/单台服务器同时跑多套php/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/10/19/php5.x禁用eval/">php5.x禁用eval</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 10月 19 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/运维/">运维</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/php/">php</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/eval/">eval</a></span><div class="content">如果是我的死忠粉，你应该看得出来，这几天我在修补公司服务器的安全漏洞。我并不是专家，干的也都只是苦力活，但也要记录一下，人老了，总忘。
这次我们来说如何禁止php代码中执行eval函数，本来以为直接修改php.ini中的disable_function即可~但现实往往并不是那么如意，查了一下GG，发现原来eval并非函数，而是php底层提供的一种特性。
幸好有前辈提供了php扩展来禁用万恶的eva ...</div><a class="more" href="/2018/10/19/php5.x禁用eval/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/10/18/ec2安装php5.x/">ec2安装php5.x</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 10月 18 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/运维/">运维</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/ec2/">ec2</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/php/">php</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/linux/">linux</a></span><div class="content">最近在aws上拼命装服务器，使用的镜像是：Amazon Linux 2 AMI 2.0.20181008 x86_64 HVM gp2。它上面默认提供了aws的源，提供了很多常用的软件，但版本都比较新。我们的项目代码依赖php5.6，所以，尴尬了。
疯狂的搜了一遍，找到个可以安装的源：
1234567891011121314sudo yum -y updatesudo yum install –y ...</div><a class="more" href="/2018/10/18/ec2安装php5.x/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/10/17/nginx的vhost文件加载顺序/">Nginx的vhost文件加载顺序</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 10月 17 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/运维/">运维</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/nginx/">nginx</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/虚拟主机/">虚拟主机</a></span><div class="content">这几天频繁的创建主机搭建站点，突然碰到个与自己直觉不匹配的情况：
当没有配置默认的虚拟主机时，用一个无法匹配server_name的链接访问服务器时，会如何？
我直觉认为会显示错误信息。但现实世界是残酷的，nginx找了一圈都没有匹配后，会直接路由到它找到的第一个配置的虚拟主机上（前提是监听的端口是一样的）。
何为第一个？是靠虚拟主机的conf文件名字的字母表顺序！惊不惊喜？意不意外？？
</div><a class="more" href="/2018/10/17/nginx的vhost文件加载顺序/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/10/16/linux权限中x的含义/">Linux权限中x的含义</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 10月 16 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/运维/">运维</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/权限/">权限</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/linux/">linux</a></span><div class="content">一直觉得linux提供的权限挺简单的：读(r)，写(w)，执行(x)。但总是在配置的时候碰到“莫名其妙”的错，所以这次好好学习记录一下。
读（read)
读取本文件内容的权限
浏览本文件夹下文件列表的权限

写（write)
新增，删除，修改，覆盖本文件的权限
新增，删除，修改，覆盖本文件夹中的文件的权限

执行（execute)
执行本文件的权限
进入本文件夹的权限

到目前为止，虽然描述的很清 ...</div><a class="more" href="/2018/10/16/linux权限中x的含义/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/09/05/GraphQL的前提/">GraphQL的前提</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 9月 5 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/nodejs/">nodejs</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/GraphQL/">GraphQL</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/DDD/">DDD</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/pagination/">pagination</a></span><div class="content">很有可能，这会是最后一篇关于这个主题的文章了，呃，这算是真的从入门到放弃么？啊哈哈哈哈哈~

东西是好东西，思想是好思想，不过感觉用在项目中的成本和风险有些不好把握，怂了怂了，这次是真怂了。
即便如此，我们还是需要讨论一下几个相关问题：

如何设计schema（edges, nodes）
1+N问题解决原理(batch, cache)
学习曲线和资料

schema一开始接触Graphql（后称： ...</div><a class="more" href="/2018/09/05/GraphQL的前提/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/08/29/GraphQL运行原理/">GraphQL运行原理</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 8月 29 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/nodejs/">nodejs</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/GraphQL/">GraphQL</a></span><div class="content">最近依然在关注GraphQL这个技术，感觉它非常有前景。结合现有的业界关于网关服务的实践和总结，再融合GraphQL的思想，瞬间一个先进无比的网关服务出现在了眼前。
之前翻译过一篇文章，感觉是读过的最完整的一篇深入浅出graphql的实战文章。今天打算继续消化一下文章中引用的一份文档：Execution。这篇文档解释了GraphQL是如何根据定义的schema来完成数据的组装和聚合的，应该算是整个 ...</div><a class="more" href="/2018/08/29/GraphQL运行原理/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/08/27/golang依赖包下载被禁解决方案/">Golang依赖包下载被禁解决方案</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 8月 27 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/golang/">golang</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/golang/">golang</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/墙/">墙</a></span><div class="content">每次装环境，都会卡在这里半天，实在不知道曾经的golang.org到底做错了什么而被封杀，有谁知道可以留言一下吗？
查了几个方案，一开始一心想按照前辈的经验搭建一个代理来下载目标库文件，不过后来发现实在是太麻烦了就放弃了。
今天我说一个土鳖但直观的方案，那就是手动下载项目依赖包文件：

确保系统上安装了git
git clone https://github.com/golang/xxx到本地指定 ...</div><a class="more" href="/2018/08/27/golang依赖包下载被禁解决方案/#more" style="margin-top: 14px">Read more</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/08/07/不惑不足而立有余之年/">不惑不足而立有余之年</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 8月 7 2018</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/talk/">talk</a></span><div class="content">虚岁35了，刚好卡在所谓的“四十不惑”与“三十而立”之间，很尴尬。尴尬之处在于，自己并没有感觉自己有何成就，谈不上立业，更谈不上不惑。
可能人生就是这样吧，不然为何身边的同龄人不少也和我一样恐慌呢？不得而知。总之，假如我这一生总长为70年，我也刚好卡在中间，走过的那一半碌碌无为，未来的那一半可能也只能随波逐流。
我在自己的少年和青年时代，活的像孩童，我在中年时代则活的像弱智，我不希望步入老年后还那 ...</div><a class="more" href="/2018/08/07/不惑不足而立有余之年/#more" style="margin-top: 14px">Read more</a><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(/img/banner.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2014 - 2021 By kazaff</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>